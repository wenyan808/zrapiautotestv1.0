{"name": "test_StockSelectionDevice_modify01", "status": "failed", "statusDetails": {"message": "AssertionError: assert '000103' == '000000'", "trace": "self = <TestCase.StockSelectionDevice.test_StockSelectionDevice_02_modify.TestStockSelectionDeviceModify object at 0x0000022D855FCD90>\n\n    @allure.story('修改策略_1-中国香港')\n    def test_StockSelectionDevice_modify01(self):\n        # 通过传入数据库的IP地址address，用户名user，密码password，数据库名database连接到后台数据库\n        q = OperationSql(\"192.168.1.237\", \"root\", \"123456\", \"user_account\")\n        # 通过查询语句找到用户id\n        userId = q.show_sql(\"select id from t_user_account where `zr_no`= '68904140';\")\n        # 传入键key，值price，数据库名database，表名surface到MongoDB数据库\n        id = MongoDB(\"user_id\", str(userId)[3:-5:], \"stock_selector\", \"t_tactic6\")\n        # print(str(userId)[3:-5:])\n        _id = {\"id\": str(id[-1].get('_id'))}\n        # print(_id)\n        url = HTTP + \"/as_market/api/stock_selector/v1/tactic/modify\"\n        headers = JSON\n    \n        # 拼装参数\n        name = get_unique_username(1)\n    \n        paylo = {\n            \"name\": name,\n            \"market\": {\n                \"region\": 1\n            }\n        }\n        paylo.update(_id)\n        # print(paylo)\n        sign1 = {\"sign\": get_sign(paylo)}  # 把参数签名后通过sign1传出来\n        # 调用登录接口通过token传出来\n        payload1 = {}\n        payload1.update(paylo)\n        payload1.update(sign1)\n        headers = headers\n        # print(token)\n        # print(type(token))\n    \n        token1 = yamltoken()\n        token = {\"token\": token1}\n        headers.update(token)\n        # print(headers)\n        payload = json.dumps(dict(payload1))\n        # print(payload)\n    \n        r = requests.post(url=url, headers=headers, data=payload)\n        j = r.json()\n        # print(j)\n        assert r.status_code == 200\n>       assert j.get(\"code\") == \"000000\"\nE       AssertionError: assert '000103' == '000000'\n\ntest_StockSelectionDevice_02_modify.py:67: AssertionError"}, "start": 1601193927766, "stop": 1601193927822, "uuid": "64c48b11-1e69-4232-9d2c-a855e764f310", "historyId": "8dff92072f35e560d80c5814605ae57b", "testCaseId": "05fb960158dfbc3e5d891cb2d478e517", "fullName": "TestCase.StockSelectionDevice.test_StockSelectionDevice_02_modify.TestStockSelectionDeviceModify#test_StockSelectionDevice_modify01", "labels": [{"name": "feature", "value": "选股器"}, {"name": "story", "value": "修改策略_1-中国香港"}, {"name": "parentSuite", "value": "TestCase.StockSelectionDevice"}, {"name": "suite", "value": "test_StockSelectionDevice_02_modify"}, {"name": "subSuite", "value": "TestStockSelectionDeviceModify"}, {"name": "host", "value": "DESKTOP-KBU1G8M"}, {"name": "thread", "value": "18220-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "TestCase.StockSelectionDevice.test_StockSelectionDevice_02_modify"}]}