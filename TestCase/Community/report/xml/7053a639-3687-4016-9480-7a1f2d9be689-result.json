{"name": "test_Community_commentpraise", "status": "broken", "statusDetails": {"message": "AttributeError: 'NoneType' object has no attribute 'get'", "trace": "self = <TestCase.Community.test_Community_praise.TestCommunitycommentpraise object at 0x000001C991A2BD00>\n\n    def test_Community_commentpraise(self):\n        login()  # 调用登录接口通过token传出来\n        url = HTTP + \"/as_community/api/post/v1/add\"\n        headers = JSON\n    \n        # 拼装参数\n        paylo = {\n            \"title\": \"外交部：中尼共同宣布珠峰新高程象征两国合作新高度\",\n            \"articleType\": 2,\n            \"content\": \"12月9日，外交部发言人赵立坚主持例行记者会。有记者提问，12月8日习近平主席同尼泊尔总统班达里互致信函，\"\n                       \"共同宣布珠穆朗玛峰高程为8848.86米，请问发言人，中尼双方共同宣布珠峰新高度有何意义？\\n\"\n                       \"[img:community/images/2020/12/09/16074971666427279.JPG]\\n\\n\"\n                       \"赵立坚表示，昨天习近平主席同班达里总统一道，代表中尼两国共同宣布珠穆朗玛峰最新高程，这一好消息也为当前深受疫情冲击的世界带来了希望。\"\n                       \"珠峰新高程代表中尼友谊新丰碑。今年是中尼建交65周年，在双方共同努力下，共建“一带一路”稳步推进，跨喜马拉雅立体互联互通网络正从愿景变为现实。\"\n                       \"正如尼方所说，尼中友好关系像珠峰那样高，像雪一样纯洁，像喜马拉雅山一样庄严屹立。\"\n                       \"珠峰新高程象征着中尼合作新高度，珠峰新高程的正式确定是中尼两国团队一年多来克服重重困难、扎实开展工作、通力合作的结果，我要给他们点赞。\\n\\n\"\n                       \"赵立坚指出，中方愿继续同尼方一道，积极推进珠穆朗玛峰生态环境保护和科学研究工作，守护好两国人民的宝贵财富和家园。\"\n                       \"珠峰新高程也展现了人类精神新境界。2020年是人类首次从北坡登顶珠峰60周年，珠峰新高程的公布代表着人类探索和认识世界、追求和实现梦想的勇气和力量。\"\n                       \"珠峰再高也是能够攀登的，困难再大也是能够克服的。当前全球疫情仍在持续蔓延，只要各国像中尼这样精诚合作，携手努力，我们必将战胜疫情。[tag:BK0500.SH]\",\n            \"images\": [\n                {\n                    \"name\": \"community/images/2020/12/09/16074971666427279.JPG\",\n                    \"w\": 1043,\n                    \"h\": 640,\n                    \"url\": \"http://zhuorui-public.oss-cn-shenzhen.aliyuncs.com/\"\n                           \"community/images/2020/12/09/16074971666427279.JPG\"\n                }\n            ],\n            \"products\": [\n                {\n                    \"ts\": \"SH\",\n                    \"code\": \"BK0500\",\n                    \"name\": \"军工\",\n                    \"type\": \"1\"\n                }\n            ]\n        }\n        # print(paylo)\n        sign1 = {\"sign\": get_sign(paylo)}  # 把参数签名后通过sign1传出来\n        payload1 = {}\n        payload1.update(paylo)\n        payload1.update(sign1)\n        headers = headers\n        # print(token)\n        # print(type(token))\n        token1 = yamltoken()\n        token = {\"token\": token1}\n        headers.update(token)  # 将token更新到headers\n        # print(headers)\n        payload = json.dumps(dict(payload1))\n        time.sleep(60.01)\n    \n        r = Requests(self.session).post(\n            url=url, headers=headers, data=payload, title=\"发帖\"\n        )\n        y = r.json()\n        # print(y)\n>       postId = y.get(\"data\").get(\"postId\")\nE       AttributeError: 'NoneType' object has no attribute 'get'\n\ntest_Community_praise.py:172: AttributeError"}, "start": 1607653715674, "stop": 1607653775770, "uuid": "c667f8c4-46d2-4a29-b38e-98d199b6dfb4", "historyId": "0d224eea1221ab96d87a09f55f48db0b", "testCaseId": "232745542b27d98aafe3b95a36936a52", "fullName": "TestCase.Community.test_Community_praise.TestCommunitycommentpraise#test_Community_commentpraise", "labels": [{"name": "feature", "value": "社区-点赞"}, {"name": "parentSuite", "value": "TestCase.Community"}, {"name": "suite", "value": "test_Community_praise"}, {"name": "subSuite", "value": "TestCommunitycommentpraise"}, {"name": "host", "value": "DESKTOP-KBU1G8M"}, {"name": "thread", "value": "8752-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "TestCase.Community.test_Community_praise"}]}