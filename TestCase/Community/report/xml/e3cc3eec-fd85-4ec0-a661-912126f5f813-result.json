{"name": "test_Community_commentpraise", "status": "broken", "statusDetails": {"message": "AttributeError: 'NoneType' object has no attribute 'get'", "trace": "self = <TestCase.Community.test_Community_praise.TestCommunitycommentpraise object at 0x000001E3FBD74C40>\n\n    def test_Community_commentpraise(self):\n        login()  # 调用登录接口通过token传出来\n        url = HTTP + \"/as_community/api/post/v1/add\"\n        headers = JSON\n    \n        # 拼装参数\n        paylo = {\n            \"title\": \"外交部：中尼共同宣布珠峰新高程象征两国合作新高度\",\n            \"articleType\": 2,\n            \"content\": \"展望2021年及以后，需求持续复苏和海外（美国、欧洲、日本等）经济刺激政策落地导致的货币宽松环境有望接力冬季去库周期，\"\n                       \"持续推动油价回升。另外，从供应端来看，12月3日OPEC+决定将该组织2021Q1的减产额度由原定的580万桶/天扩大至720万桶/天，\"\n                       \"美国页岩油产量规模或会在政策或债务压力下继续收缩，从更长周期的角度来看，2014年以来低油价导致的低资本开支导致全球原油供应潜力不足，\"\n                       \"2022年前后基本面可能呈现供不应求的状态。供应端的收紧有可能成为2021年及之后油市基本面的超预期事件，\"\n                       \"有望成为中长期持续推升油价中枢上行的主要驱动力。\\n\\n12月11日消息，继美股石油股大涨后，港股石油股集体疯狂，\"\n                       \"[tag:00883.HK]涨近7%，[tag:00857.HK]涨超4%，[tag:00386.HK]涨3.9%，\"\n                       \"[tag:02883.HK]、[tag:00135.HK]纷纷跟涨。\",\n            \"products\": [\n                {\n                    \"ts\": \"HK\",\n                    \"code\": \"00883\",\n                    \"name\": \"中国海洋石油\",\n                    \"type\": \"2\"\n                },\n                {\n                    \"ts\": \"HK\",\n                    \"code\": \"00857\",\n                    \"name\": \"中国石油股份\",\n                    \"type\": \"2\"\n                },\n                {\n                    \"ts\": \"HK\",\n                    \"code\": \"00386\",\n                    \"name\": \"中国石油化工股份\",\n                    \"type\": \"2\"\n                },\n                {\n                    \"ts\": \"HK\",\n                    \"code\": \"02883\",\n                    \"name\": \"中海油田服务\",\n                    \"type\": \"2\"\n                },\n                {\n                    \"ts\": \"HK\",\n                    \"code\": \"00135\",\n                    \"name\": \"昆仑能源\",\n                    \"type\": \"2\"\n                }\n            ]\n        }\n    \n        # print(paylo)\n        sign1 = {\"sign\": get_sign(paylo)}  # 把参数签名后通过sign1传出来\n        payload1 = {}\n        payload1.update(paylo)\n        payload1.update(sign1)\n        headers = headers\n        # print(token)\n        # print(type(token))\n        token1 = yamltoken()\n        token = {\"token\": token1}\n        headers.update(token)  # 将token更新到headers\n        # print(headers)\n        payload = json.dumps(dict(payload1))\n        time.sleep(60.01)\n    \n        r = Requests(self.session).post(\n            url=url, headers=headers, data=payload, title=\"发帖\"\n        )\n        y = r.json()\n        # print(y)\n        postId =\\\n>           y.get(\"data\").get(\"postId\")\nE       AttributeError: 'NoneType' object has no attribute 'get'\n\ntest_Community_praise.py:185: AttributeError"}, "start": 1607660647929, "stop": 1607660707992, "uuid": "c7793dbd-30fd-4461-a0e7-7a71430b92e6", "historyId": "0d224eea1221ab96d87a09f55f48db0b", "testCaseId": "232745542b27d98aafe3b95a36936a52", "fullName": "TestCase.Community.test_Community_praise.TestCommunitycommentpraise#test_Community_commentpraise", "labels": [{"name": "feature", "value": "社区-点赞"}, {"name": "parentSuite", "value": "TestCase.Community"}, {"name": "suite", "value": "test_Community_praise"}, {"name": "subSuite", "value": "TestCommunitycommentpraise"}, {"name": "host", "value": "DESKTOP-KBU1G8M"}, {"name": "thread", "value": "18312-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "TestCase.Community.test_Community_praise"}]}