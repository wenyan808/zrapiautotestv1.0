{"name": "test_Kline_selectfiveday[info189]", "status": "failed", "statusDetails": {"message": "AssertionError: {\"startTime\": 1611300088374, \"endTime\": 1611559288374, \"limit\": 50, \"ts\": \"HK\", \"code\": \"08085\", \"sign\": \"I8Cl+E3GgX0H+4UW+hBLcQ7AWUnUSYcluLT3erypYx3WKPMjNsCx7fxhqrGQ88CV5J3c1OmUhOA6gE4klczQHQ==\"}", "trace": "self = <TestCase.StockQuotation.KLine.Klineappend.test_Kline_selectfiveday.TestKlineSelectfiveday object at 0x0000026847429910>\ninfo = {'code': '08085', 'ts': 'HK'}\n\n    @allure.story('查询五日')\n    @pytest.mark.parametrize('info', get_json(BASE_DIR + r\"/TestData/test_Kline_selectfiveday.json\"))\n    def test_Kline_selectfiveday(self, info):\n        # pass\n        url = HTTP + \"/as_market/api/kline/v1/select_five_day\"\n        header = JSON\n    \n        # 拼装参数\n        paylo = {\n            \"startTime\": TimeTostamp(),\n            \"endTime\": get_time_stamp13(),\n            \"limit\": 50\n        }\n        paylo1 = info\n        paylo.update(paylo1)\n        # print(paylo)\n        sign1 = {\"sign\": get_sign(paylo)}  # 把参数签名后通过sign1传出来\n        # 调用登录接口通过token传出来\n        payload1 = {}\n        payload1.update(paylo)\n        payload1.update(sign1)\n        headers = {}\n        headers.update(header)\n        # print(token)\n        # print(type(token))\n    \n        token1 = yamltoken()\n        token = {\"token\": token1}\n        headers.update(token)\n        # print(headers)\n        payload = json.dumps(dict(payload1))\n        r = requests.post(url=url, headers=headers, data=payload)\n        # 断言\n        j = r.json()\n        # print(j)\n    \n        assert r.status_code == 200\n        if j.get(\"code\") == \"000000\":\n            assert j.get(\"code\") == \"000000\"\n            assert j.get(\"msg\") == \"ok\"\n            if \"data\" in j:\n                if len(j.get(\"data\")) != 0:\n                    assert \"type\" in j.get(\"data\")\n                    assert \"ts\" in j.get(\"data\")\n                    assert j.get(\"data\").get(\"ts\") == info.get(\"ts\")\n                    assert \"code\" in j.get(\"data\")\n                    assert j.get(\"data\").get(\"code\") == info.get(\"code\")\n                    if \"preClose\" in j.get(\"data\"):\n                        assert \"preClose\" in j.get(\"data\")\n                    assert \"adj\" in j.get(\"data\")\n                    if \"list\" in j.get(\"data\"):\n                        for i in range(len(j.get(\"data\").get(\"list\"))):\n                            assert \"time\" in j.get(\"data\").get(\"list\")[i]\n                            if \"close\" in j.get(\"data\").get(\"list\")[i]:\n                                assert \"close\" in j.get(\"data\").get(\"list\")[i]\n                            if \"sharestraded\" in j.get(\"data\").get(\"list\")[i]:\n                                assert \"sharestraded\" in j.get(\"data\").get(\"list\")[i]\n                            if \"turnover\" in j.get(\"data\").get(\"list\")[i]:\n                                assert \"turnover\" in j.get(\"data\").get(\"list\")[i]\n                            if \"vwap\" in j.get(\"data\").get(\"list\")[i]:\n                                assert \"vwap\" in j.get(\"data\").get(\"list\")[i]\n                else:\n                    logging.info(\"data为空list\")\n            else:\n                logging.info(\"data在j不存在\")\n        else:\n>           raise AssertionError(payload)\nE           AssertionError: {\"startTime\": 1611300088374, \"endTime\": 1611559288374, \"limit\": 50, \"ts\": \"HK\", \"code\": \"08085\", \"sign\": \"I8Cl+E3GgX0H+4UW+hBLcQ7AWUnUSYcluLT3erypYx3WKPMjNsCx7fxhqrGQ88CV5J3c1OmUhOA6gE4klczQHQ==\"}\n\ntest_Kline_selectfiveday.py:101: AssertionError"}, "parameters": [{"name": "info", "value": "{'ts': 'HK', 'code': '08085'}"}], "start": 1611559288375, "stop": 1611559288393, "uuid": "967bf27d-5085-4294-b377-ba9d84439c29", "historyId": "07cca176e7a09b4a3202fb3e3c5916ec", "testCaseId": "62fe9af39dcaa868839252adef02c845", "fullName": "TestCase.StockQuotation.KLine.Klineappend.test_Kline_selectfiveday.TestKlineSelectfiveday#test_Kline_selectfiveday", "labels": [{"name": "story", "value": "查询五日"}, {"name": "feature", "value": "K线"}, {"name": "parentSuite", "value": "TestCase.StockQuotation.KLine.Klineappend"}, {"name": "suite", "value": "test_Kline_selectfiveday"}, {"name": "subSuite", "value": "TestKlineSelectfiveday"}, {"name": "host", "value": "DESKTOP-KBU1G8M"}, {"name": "thread", "value": "17316-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "TestCase.StockQuotation.KLine.Klineappend.test_Kline_selectfiveday"}]}