{"name": "test_Community_Posted[info1]", "status": "failed", "statusDetails": {"message": "AssertionError: assert '90106be7c8444dda8f0f5b745b50a08e' == ()", "trace": "self = <TestCase.Community.test_Community_Posted.TestCommunityPosted object at 0x000001D8C4FC5FD0>\ninfo = {'articleType': 1, 'content': '[tag:01585.HK]开盘后一路走低，最新跌幅达到8.32%，股价报14.32港元，暂成交1.15亿港元。11月初以来，雅迪控股最大涨幅曾超过50%。稍早前富途研究分析...初期；优秀供给加速推动产品升级，行业资源会向头部集中。\\n[tag:01585.HK]', 'products': [{'code': '01585', 'name': '雅迪控股', 'ts': 'HK', 'type': '2'}]}\n\n    @allure.story('社区-发帖(短文)')\n    @pytest.mark.parametrize('info', get_json(BASE_DIR + r\"/TestData/test_CommunityPosted.json\"))\n    def test_Community_Posted(self, info):\n        login()  # 调用登录接口通过token传出来\n        url = HTTP + \"/as_community/api/post/v1/add\"\n        headers = JSON\n    \n        # 拼装参数\n        paylo = info\n        # print(paylo)\n        sign1 = {\"sign\": get_sign(paylo)}  # 把参数签名后通过sign1传出来\n        payload1 = {}\n        payload1.update(paylo)\n        payload1.update(sign1)\n        headers = headers\n        # print(token)\n        # print(type(token))\n    \n        token1 = yamltoken()\n        token = {\"token\": token1}\n        headers.update(token)  # 将token更新到headers\n        # print(headers)\n        payload = json.dumps(dict(payload1))\n    \n        if glo.FALG == False:\n            time.sleep(60.1)\n        glo.FALG = False\n        r = Requests(self.session).post(\n            url=url, headers=headers, data=payload, title=\"发帖(短文)\"\n        )\n        # r = requests.post(url=url, headers=headers, data=payload)\n        # 断言\n        j = r.json()\n        # print(j)\n        assert r.status_code == 200\n        assert j.get(\"code\") == \"000000\"\n        assert j.get(\"msg\") == \"ok\"\n        if \"data\" in j:\n            if len(j.get(\"data\")) != 0:\n                assert \"postId\" in j.get(\"data\")\n                # print(j.get(\"data\").get(\"articleType\"))\n                assert j.get(\"data\").get(\"articleType\") == info.get(\"articleType\")\n                assert j.get(\"data\").get(\"content\") == info.get(\"content\")\n                if \"images\" in j.get(\"data\"):\n                    assert type(j.get(\"data\").get(\"images\")) == type(info.get(\"images\"))\n                assert \"publishTime\" in j.get(\"data\")\n                q = OperationSql(\"192.168.1.237\", \"root\", \"123456\", \"user_account\")\n                userId = q.show_sql(\"select id from t_user_account where `zr_no`= '68904140';\")\n>               assert j.get(\"data\").get(\"creator\").get(\"userId\") == userId[3:-5:]\nE               AssertionError: assert '90106be7c8444dda8f0f5b745b50a08e' == ()\n\ntest_Community_Posted.py:80: AssertionError"}, "parameters": [{"name": "info", "value": "{'articleType': 1, 'content': '[tag:01585.HK]开盘后一路走低，最新跌幅达到8.32%，股价报14.32港元，暂成交1.15亿港元。11月初以来，雅迪控股最大涨幅曾超过50%。稍早前富途研究分析认为，随着 2019年新国标落地，电动两轮车（包括电动自行车和轻便电摩）在使用端和生产端均得到规范，行业逐渐进入优秀供给和消费升级相互促进的良性循环。两轮车市场正迎来消费升级，从传统交通工具步入休闲娱乐消费品。电动两轮车与电动汽车相比，同样市场广阔；新国标实施带来超标车置换需求，预计2022年是高峰期；伴随着消费升级和海外市场的扩张，高端的电动两轮车、电踏车仍处于需求爆发初期；优秀供给加速推动产品升级，行业资源会向头部集中。\\n[tag:01585.HK]', 'products': [{'ts': 'HK', 'code': '01585', 'name': '雅迪控股', 'type': '2'}]}"}], "start": 1606965508821, "stop": 1606965569654, "uuid": "508a6070-3825-4250-9e24-63400bc2bf41", "historyId": "4ce286e0f0bb7f8e1d4c8d406db61f9b", "testCaseId": "1a7d9a591d2b8714bf900929f9d3b4e1", "fullName": "TestCase.Community.test_Community_Posted.TestCommunityPosted#test_Community_Posted", "labels": [{"name": "story", "value": "社区-发帖(短文)"}, {"name": "feature", "value": "社区"}, {"name": "parentSuite", "value": "TestCase.Community"}, {"name": "suite", "value": "test_Community_Posted"}, {"name": "subSuite", "value": "TestCommunityPosted"}, {"name": "host", "value": "DESKTOP-KBU1G8M"}, {"name": "thread", "value": "74696-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "TestCase.Community.test_Community_Posted"}]}